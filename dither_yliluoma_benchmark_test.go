package pattern

import (
	"image"
	"image/color"
	"testing"
)

func BenchmarkYliluoma1Dither_deviseBestMixingPlan(b *testing.B) {
	palette := color.Palette{
		color.RGBA{0x00, 0x00, 0x00, 0xff},
		color.RGBA{0x80, 0x00, 0x00, 0xff},
		color.RGBA{0x00, 0x80, 0x00, 0xff},
		color.RGBA{0x80, 0x80, 0x00, 0xff},
		color.RGBA{0x00, 0x00, 0x80, 0xff},
		color.RGBA{0x80, 0x00, 0x80, 0xff},
		color.RGBA{0x00, 0x80, 0x80, 0xff},
		color.RGBA{0xc0, 0xc0, 0xc0, 0xff},
		color.RGBA{0x80, 0x80, 0x80, 0xff},
		color.RGBA{0xff, 0x00, 0x00, 0xff},
		color.RGBA{0x00, 0xff, 0x00, 0xff},
		color.RGBA{0xff, 0xff, 0x00, 0xff},
		color.RGBA{0x00, 0x00, 0xff, 0xff},
		color.RGBA{0xff, 0x00, 0xff, 0xff},
		color.RGBA{0x00, 0xff, 0xff, 0xff},
		color.RGBA{0xff, 0xff, 0xff, 0xff},
	}

    img := image.NewRGBA(image.Rect(0,0,1,1))
    dither := NewYliluoma1Dither(img, palette, 8)

    d, ok := dither.(*Yliluoma1Dither)
    if !ok {
        b.Fatal("NewYliluoma1Dither did not return *Yliluoma1Dither")
    }

    b.ResetTimer()
    for i := 0; i < b.N; i++ {
        d.deviseBestMixingPlan(100, 100, 100)
    }
}
